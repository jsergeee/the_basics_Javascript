

# Урок 1

запуск docker-compose:

```
docker-compose up
```





Ваши конфигурационные файлы для Docker и Nginx выглядят в целом правильно, но давайте проверим несколько ключевых моментов, чтобы убедиться, что все будет работать корректно.

▎1. Проверка конфигурации Nginx

Убедитесь, что файл конфигурации Nginx (например, mysite.local.conf) правильно настроен. Ваша конфигурация выглядит хорошо, но убедитесь, что:

• Файл конфигурации Nginx копируется в правильное место в образе.

• В конфигурации Nginx используется правильное имя контейнера для PHP-FPM.

Пример конфигурации Nginx:

server {
    listen 80;
    server_name mysite.local;

    root /data/mysite.local;
    index index.php index.html;
    
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }
    
    location ~ \.php$ {
        include fastcgi_params;
        fastcgi_pass application:9000;  # Убедитесь, что это имя вашего контейнера PHP-FPM
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    }
    
    location ~* \.(jpg|jpeg|gif|css|png|js|ico|html)$ {
        access_log off;
        expires max;
    }
}


▎2. Проверка Dockerfile для Nginx

Убедитесь, что ваш Dockerfile для Nginx настроен правильно и копирует файл конфигурации:

FROM nginx:latest

COPY mysite.local.conf /etc/nginx/conf.d/default.conf


▎3. Проверка Dockerfile для PHP-FPM

Убедитесь, что ваш Dockerfile для PHP-FPM настроен правильно. Пример:

FROM php:8.2-fpm

COPY ./php.ini /usr/local/etc/php/conf.d/php-custom.ini

RUN apt-get update && apt-get install -y zip unzip

WORKDIR /data

VOLUME /data

CMD ["php-fpm"]


▎4. Проверка файла docker-compose.yml

Ваш файл docker-compose.yml выглядит правильно, но убедитесь, что все пути к контекстам и файлам указаны верно:

version: '3'

services:
  nginx:
    build:
      context: ./nginx
      dockerfile: Dockerfile
    image: myapp/nginx
    container_name: webserver
    ports:
      - "80:80"
    volumes:
       - ./code:/data/mysite.local
    networks:
      - app-network

  application:
    build:
      context: ./fpm
      dockerfile: Dockerfile
    image: myapp/php
    container_name: application
    volumes:
       - ./code:/data/mysite.local
    networks:
      - app-network

  cli:
    build:
      context: ./cli
      dockerfile: Dockerfile
    image: myapp/php-cli
    container_name: cli
    volumes:
       - ./code:/data/mysite.local
    networks:
      - app-network

networks:
  app-network:
    driver: bridge


▎5. Проверка файла hosts

Убедитесь, что в вашем файле hosts есть запись для mysite.local:

127.0.0.1 mysite.local


▎6. Пересоберите и перезапустите контейнеры

После внесения всех изменений, выполните следующие команды для пересборки и перезапуска контейнеров:

docker-compose down
docker-compose up --build -d


▎7. Проверка состояния контейнеров

Проверьте, что все контейнеры работают:

docker ps


▎8. Проверка логов

Если контейнер Nginx не запускается или вы видите ошибки, проверьте логи:

docker logs webserver


▎9. Проверка сетевого взаимодействия

Убедитесь, что контейнеры могут общаться друг с другом. Вы можете войти в контейнер Nginx и проверить доступность контейнера PHP-FPM:

docker exec -it webserver /bin/sh
ping application


▎10. Проверка доступа

Попробуйте открыть http://mysite.local в вашем браузере. Если все настроено правильно, вы должны увидеть вашу веб-стра



# Урок 2. Условия, Массивы, циклы, функции



Словарь терминов Ветвления в PHP – это механизм, который позволяет программистам принимать решения на основе условий. Это позволяет программам принимать решения на основе данных, вводимых пользователем или получаемых из других источников. Массивы – наборы значений, которые могут быть обработаны как один объект. Мы рассмотрим, как создавать массивы, добавлять и удалять элементы, а также как использовать массивы для решения различных задач. Массивы – это упорядоченные списки, которые могут содержать любые типы данных: числа, строки, объекты, другие массивы и т.д. Они используются для хранения множества значений в одной переменной и обеспечивают простой и эффективный способ работы с данными. Область применения массивов – это хранение в памяти программы однородных данных. Одномерный массив – это простой список значений. Многомерный массив – это массив, содержащий другие массивы в качестве элементов. Ассоциативные массивы означают, что для каждого элемента массива можно указать свой ключ в виде строки (в индексных массивах ключом является целое число).

Функция count() – возвращает количество элементов в массиве Функция array_push() – добавляет элемент в конец массива Функция array_pop() – удаляет и возвращает последний элемент массива Функция array_shift() – удаляет и возвращает первый элемент массива Функция array_unshift() – добавляет элемент в начало массива Функция array_slice() – возвращает выбранные элементы массива в новом массиве Функция array_merge() – объединяет два или более массива в один Функция array_reverse() – возвращает массив в обратном порядке Функция array_search() – ищет значение в массиве и возвращает его ключ, если найдено Функция in_array() – проверяет, содержится ли значение в массиве Обход массива – это процесс перебора всех элементов массива в цикле для выполнения каких-либо операций с каждым элементом. Циклы – используются в PHP для повторения одного и того же блока кода несколько раз. Мы рассмотрим операторы «for», «while» и «do-while» и объясним, как использовать их в своих программах. Цикл while – цикл, который выполняет блок кода, пока заданное условие истинно.

Цикл do-while – цикл, который очень похож на цикл while, но он выполняет блок кода хотя бы один раз, даже если условие сразу ложно. Цикл for – цикл, который выполняет блок кода заданное количество раз. Цикл foreach – цикл, который является синтаксическим улучшением цикла for и чаще всего используется для перебора элементов массива. Функции – набор инструкций, которые могут быть вызваны из других частей программы. Мы рассмотрим, как создавать функции, передавать им параметры и возвращать значения. Функции – это блоки кода, которые можно вызывать из другого места в программе, для выполнения конкретной операции, указав только имя самой операции. Параметры – это переменные, которые могут быть переданы в функцию при ее вызове.

Побочный эффект – это изменение состояния программы, которое происходит вне функции и вызывается ее выполнением. Объявление типов – это мощный инструмент для создания более надежного и читаемого кода в PHP. Объявление типов позволяет задать тип данных, который ожидается для конкретного параметра или возвращаемого значения, что делает код более читаемым и позволяет PHP проверять правильность типов во время выполнения. Области видимости – это когда переменные могут быть доступны только в определенных частях кода, и их значение может быть изменено только в рамках этой области видимости. Локальные переменные создаются внутри функции и доступны только в рамках этой функции. Символ амперсанда & – символ передачи параметра по ссылке, он используется перед именем переменной при ее объявлении в определении функции. Условные операторы – операторы, которые позволяют проверить, является ли определенное условие истинным, и выполнить определенный код, если это условие истинно. Оператор if – оператор, который используется для выполнения кода, если определенное условие является истинным. Операторы сравнения — операторы, которые позволяют сравнивать значения переменных и выполнить определенный код в зависимости от результата сравнения.

Логические операторы – операторы, которые используются для соединения нескольких условий и выполнения определенного кода, если все эти условия истинны. Оператор and («and», «&&») – оператор, который возвращает истинное значение только в том случае, если оба условия истинны. Оператор or («or», «||») – оператор, который возвращает истинное значение, если хотя бы одно из условий истинно. Оператор not («!») – оператор, который инвертирует результат вычисления, то есть, возвращает ложное значение, если условие истинно, и наоборот. Оператор else if – оператор, который используется для проверки дополнительных условий, если первое условие ложно.

Оператор else – оператор, который используется для выполнения кода, если все предыдущие условия ложны. Тернарный оператор – оператор, который позволяет выполнить определенный код в зависимости от того, выполняется ли определенное условие или нет. Оператор switch – оператор, который используется для сравнения выражения с несколькими значениями и выполнения действий, соответствующих этим значениям. break – оператор, который прерывает выполнение оператора switch и переходит к следующей строке кода после него. Оператор match – оператор, который является усовершенствованным аналогом оператора switch. В отличие от switch, оператор match является более строгим и не позволяет выполнять неявные преобразования типов данных

### Ветвления

# Урок 3. Файлы, подключение кода, Composer









# Семинар 9

1. Используйте команду для доступа: Чтобы войти в контейнер MySQL, выполните следующую команду в терминале:

docker exec -it database bash


   Здесь database — это имя вашего контейнера. Если вы используете другое имя, замените его соответственно.

2. Запустите MySQL клиент: После входа в контейнер вы можете запустить MySQL клиент с помощью команды:

mysql -u root -p


   Введите пароль, который вы указали в переменной окружения DB_ROOT_PASSWORD.

3. Проверка подключения: Если вы успешно вошли, вы можете выполнять SQL-запросы, например, чтобы просмотреть базы данных:

SHOW DATABASES;


▎Устранение проблем

• Проверьте статус контейнера: Убедитесь, что контейнер работает, выполнив команду:

docker ps


• Проверьте логи контейнера: Если возникают проблемы, посмотрите логи контейнера для получения дополнительной информации:

docker logs database


• Проверьте настройки сети: Убедитесь, что ваш контейнер имеет доступ к сети и что порты правильно проброшены.