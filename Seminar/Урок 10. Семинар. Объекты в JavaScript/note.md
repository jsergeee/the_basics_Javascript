Давайте разберем код по шагам и подробно объясним каждый элемент.

▎Исходный объект

const obj = {
  key1: {
    key1: 1,
    key2: 2,
    key3: 3,
  },
  key2: {
    key1: 4,
    key2: 5,
    key3: 6,
  },
  key3: {
    key1: 7,
    key2: 8,
    key3: 9,
  },
};

1. Объект obj: Это объект, содержащий три ключа (key1, key2, key3), каждый из которых ассоциирован с другим объектом. Эти вложенные объекты содержат свои собственные ключи и числовые значения.

▎Получение суммы

const sum = Object.values(obj).reduce((acc, curr) => {
  return acc + Object.values(curr).reduce((a, b) => a + b, 0);
}, 0);

Теперь давайте разберем этот код по частям.

▎1. Object.values(obj)

• Что делает: Этот метод возвращает массив значений объекта obj. В нашем случае, это будет массив, содержащий три объекта:

[
  { key1: 1, key2: 2, key3: 3 },
  { key1: 4, key2: 5, key3: 6 },
  { key1: 7, key2: 8, key3: 9 }
]

▎2. reduce((acc, curr) => {...}, 0)

• Что делает: Метод reduce() применяется к массиву значений, чтобы аккумулировать (собирать) сумму.

• Параметры:

  • acc: аккумулятор, который хранит текущую сумму.

  • curr: текущее значение из массива (в данном случае, это один из вложенных объектов).

• Начальное значение: 0, что означает, что сумма начинается с нуля.

▎3. Внутренний Object.values(curr)

• Что делает: Для каждого вложенного объекта curr мы снова применяем Object.values(), чтобы получить массив его значений. Например, для первого вложенного объекта { key1: 1, key2: 2, key3: 3 } это будет [1, 2, 3].

▎4. Внутренний reduce((a, b) => a + b, 0)

• Что делает: Этот метод reduce() суммирует значения внутри текущего вложенного объекта.

• Параметры:

  • a: первый элемент, который аккумулируется.

  • b: текущий элемент массива значений.

• Начальное значение: 0, что означает, что сумма начинается с нуля.

▎5. return acc + ...

• Что делает: После того как внутренний reduce() вычисляет сумму для текущего вложенного объекта, мы добавляем эту сумму к аккумулятору acc. Таким образом, на каждом шаге мы накапливаем общую сумму.

▎Итоговая сумма

• После завершения всех итераций по массиву значений верхнего уровня, переменная sum будет содержать общую сумму всех чисел в объекте. В данном случае, сумма всех чисел от 1 до 9 равна 45.

▎Вывод результата

console.log(sum); // Выводит 45

• Эта строка выводит итоговую сумму в консоль.

Таким образом, мы получили сумму всех значений в вложенных объектах, используя методы работы с объектами и массивами в JavaScript. Если есть еще вопросы или что-то непонятно, не стесняйтесь спрашивать!
